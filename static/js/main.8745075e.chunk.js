(this["webpackJsonpreward-store-sebas"]=this["webpackJsonpreward-store-sebas"]||[]).push([[0],{116:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s.n(c),n=s(38),i=s.n(n),a=(s(82),s(12)),o=s(131),j=s(94),d=s(129),u=s(53),l=s(70),b=s(1),O=function(e){var t=e.coin;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(d.a,{as:"div",labelPosition:"right",children:[Object(b.jsx)(d.a,{icon:!0,children:Object(b.jsx)(u.a,{name:"bitcoin"})}),Object(b.jsx)(l.a,{as:"a",basic:!0,pointing:"left",children:t})]})})},h=s(127);function p(e){var t,s,c,r=e.users,n=e.setUsers,i=e.fetched,a=e.setFetched,o=e.compra;i||fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjlmNzRmMDYwOGE4ODAwMTk1YjliZDgiLCJpYXQiOjE2MDQyODU2ODB9.ctaykhWrBlhUdTgGlnbksoRx3LwszENpALaY64K_OuY"}}).then((function(e){return e.json()})).then((function(e){a(!0),n({name:e.name,points:e.points,record:e.redeemHistory}),t=e.name,s=e.points,c=e.redeemHistory,function(e){e.users;var t=e.setUsers,s=e.name,c=e.coin,r=(e.compra,e.record);fetch("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjlmNzRmMDYwOGE4ODAwMTk1YjliZDgiLCJpYXQiOjE2MDQyODU2ODB9.ctaykhWrBlhUdTgGlnbksoRx3LwszENpALaY64K_OuY"}}).then((function(e){return e.json()})).then((function(e){t({name:s,points:c,products:e,record:r})}))}({users:r,setUsers:n,name:t,coin:s,compra:o,record:c})}))}function m(e){var t=e.setCompra,s=e.id,c=e.setUsers,r=e.name,n=e.points,i=e.products,a=e.record,o=(e.fetched,e.setFetched),j=e.cost,d=new XMLHttpRequest;d.open("POST","https://coding-challenge-api.aerolab.co/redeem"),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjlmNzRmMDYwOGE4ODAwMTk1YjliZDgiLCJpYXQiOjE2MDQyODU2ODB9.ctaykhWrBlhUdTgGlnbksoRx3LwszENpALaY64K_OuY"),d.onreadystatechange=function(){4===this.readyState&&(o(!0),c({name:r,points:n-j,products:i,record:a}),function(e){var t=e.setUsers,s=e.name,c=e.products,r=e.val;fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjlmNzRmMDYwOGE4ODAwMTk1YjliZDgiLCJpYXQiOjE2MDQyODU2ODB9.ctaykhWrBlhUdTgGlnbksoRx3LwszENpALaY64K_OuY"}}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){t({name:s,points:r,products:c,record:e})}),5e3)}))}({setUsers:c,name:r,points:n,products:i,record:a,setCompra:t,cost:j,val:n-j}))};var u={productId:s};d.send(JSON.stringify(u))}var x=function(e){var t=e.users,s=e.setUsers,r=e.name,n=e.coin,i=e.products,o=e.record,j=e.buys,O=Object(c.useState)(!1),h=Object(a.a)(O,2),p=(h[0],h[1]),m=Object(c.useState)(0),x=Object(a.a)(m,2),g=x[0],f=x[1],y=function(e){!function(e){e.users;var t=e.setUsers,s=e.setFetched,c=e.bitcoinNumber,r=e.setNumber,n=e.name,i=e.coin,a=e.products,o=e.record,j=new XMLHttpRequest;j.open("POST","https://coding-challenge-api.aerolab.co/user/points"),j.setRequestHeader("Content-Type","application/json"),j.setRequestHeader("Accept","application/json"),j.setRequestHeader("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjlmNzRmMDYwOGE4ODAwMTk1YjliZDgiLCJpYXQiOjE2MDQyODU2ODB9.ctaykhWrBlhUdTgGlnbksoRx3LwszENpALaY64K_OuY"),j.onreadystatechange=function(){4===this.readyState&&(s(!0),t({name:n,points:i+c,products:a,record:o}),r(c),console.log("Status:",this.status),console.log("Headers:",this.getAllResponseHeaders()),console.log("Body:",this.responseText))};var d={amount:c};j.send(JSON.stringify(d))}({users:t,setUsers:s,name:r,setFetched:p,setNumber:f,coin:n,bitcoinNumber:e,products:i,record:o,buys:j})};return Object(b.jsxs)("div",{children:[Object(b.jsxs)(d.a,{as:"div",labelPosition:"right",onClick:function(){return y(1e3)},children:[Object(b.jsx)(d.a,{icon:!0,children:Object(b.jsx)(u.a,{name:"bitcoin"})}),Object(b.jsx)(l.a,{as:"a",basic:!0,pointing:"left",children:"1000"})]}),Object(b.jsxs)(d.a,{as:"div",labelPosition:"right",onClick:function(){return y(5e3)},children:[Object(b.jsx)(d.a,{icon:!0,children:Object(b.jsx)(u.a,{name:"bitcoin"})}),Object(b.jsx)(l.a,{as:"a",basic:!0,pointing:"left",children:"5000"})]}),Object(b.jsxs)(d.a,{as:"div",labelPosition:"right",onClick:function(){return y(7500)},children:[Object(b.jsx)(d.a,{icon:!0,children:Object(b.jsx)(u.a,{name:"bitcoin"})}),Object(b.jsx)(l.a,{as:"a",basic:!0,pointing:"left",children:"7500"})]}),g>0&&Object(b.jsxs)("h1",{children:[" you increased your points in: ",g]})]})},g=function(e){var t=e.users,s=e.setUsers,r=e.name,n=e.coin,i=e.products,j=e.record,l=e.buys,O=Object(c.useState)(!1),p=Object(a.a)(O,2),m=p[0],g=p[1];return Object(b.jsxs)(h.a,{closeIcon:!0,open:m,trigger:Object(b.jsx)(d.a,{circular:!0,children:"+ Bitcoins"}),onOpen:function(){return g(!0)},onClose:function(){return g(!1)},children:[Object(b.jsx)(o.a,{icon:"money",content:"Bitcoin Factory"}),Object(b.jsxs)(h.a.Content,{children:[Object(b.jsx)("p",{children:"If you want increase your bitcoins, please select the number of them you want!!"}),Object(b.jsx)(x,{users:t,setUsers:s,name:r,coin:n,products:i,record:j,buys:l})]}),Object(b.jsx)(h.a.Actions,{children:Object(b.jsxs)(d.a,{color:"blue",onClick:function(){return g(!1)},children:[Object(b.jsx)(u.a,{name:"checkmark"})," Enough"]})})]})},f=s.p+"static/media/compras.8dab053e.png",y=s(128),v=function(e){var t=e.name,s=e.image;return Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)(y.a,{children:[Object(b.jsx)(y.a.Content,{extra:!0}),Object(b.jsx)(j.a,{src:s,wrapped:!0,ui:!1}),Object(b.jsx)(y.a.Content,{children:Object(b.jsx)(y.a.Header,{children:t})})]})})},C=function(e){var t=e.users,s=Object(c.useState)(!1),r=Object(a.a)(s,2),n=r[0],i=r[1],o=t.record?t.record.map((function(e){return Object(b.jsx)(v,{name:e.name,image:e.img.url,createDate:e.createDate,cost:e.cost,category:e.category,points:t.points},e.createDate)})):Object(b.jsx)("h1",{children:"no products redeemed"});return Object(b.jsxs)(h.a,{open:n,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},trigger:Object(b.jsx)(d.a,{circular:!0,children:"Trade history"}),children:[Object(b.jsx)(h.a.Header,{children:"Trade history"}),Object(b.jsxs)(h.a.Content,{image:!0,scrolling:!0,children:[Object(b.jsx)(j.a,{circular:!0,size:"medium",src:f,wrapped:!0}),Object(b.jsx)(h.a.Description,{children:Object(b.jsx)("div",{className:"cards",children:o})})]}),Object(b.jsx)(h.a.Actions,{children:Object(b.jsxs)(d.a,{onClick:function(){return i(!1)},primary:!0,children:["Great! ",Object(b.jsx)(u.a,{name:"chevron right"})]})})]})},U=function(e){var t=e.name,s=e.coin,c=e.users,r=e.setUsers,n=e.products,i=e.record,a=e.buys;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{children:Object(b.jsxs)(o.a,{as:"h2",children:[Object(b.jsx)(j.a,{circular:!0,src:"https://react.semantic-ui.com/images/avatar/large/patrick.png"})," ",Object(b.jsx)("div",{className:"user",children:t}),Object(b.jsx)("div",{className:"points",children:Object(b.jsx)(O,{coin:s})}),Object(b.jsx)("div",{className:"btn-modal-points",children:Object(b.jsx)(g,{users:c,setUsers:r,name:t,coin:s,products:n,record:i,buys:a})}),Object(b.jsx)("div",{className:"btn-modal-redeem",children:Object(b.jsx)(C,{users:c})})]})})})},N=s.p+"static/media/main.b6f067c6.png",k=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container-img-main",children:[Object(b.jsx)("img",{className:"img-main",src:N,alt:N,height:"20%",width:"100%"}),Object(b.jsx)("div",{className:"overlay",children:Object(b.jsx)("div",{className:"text-main",children:"Electronics"})})]})})},D=s.p+"static/media/coin.b8bc711d.svg",I=s.p+"static/media/cry.7fca445d.png",w=function(e){var t=e.cost,s=e.points,r=Object(c.useState)(!1),n=Object(a.a)(r,2),i=n[0],u=n[1];return Object(b.jsxs)(h.a,{onClose:function(){return u(!1)},onOpen:function(){return u(!0)},open:i,trigger:Object(b.jsxs)(o.a,{children:[Object(b.jsxs)("div",{className:"disble-header-text",children:[t-s," needed"]}),Object(b.jsx)(j.a,{circular:!0,src:D,className:"card-coin-icon"})," "]}),children:[Object(b.jsx)(h.a.Header,{children:"You don't have enough Bitcoins"}),Object(b.jsxs)(h.a.Content,{image:!0,children:[Object(b.jsx)(j.a,{size:"medium",src:I,title:"expresi\xf3n png de pngtree.com",wrapped:!0}),Object(b.jsxs)(h.a.Description,{children:[Object(b.jsxs)(o.a,{children:["We are sorry but you need: ",t-s," Bitcoins"]}),Object(b.jsx)(o.a,{children:"to redeem this item!"})]})]}),Object(b.jsx)(h.a.Actions,{children:Object(b.jsx)(d.a,{content:"Okay",labelPosition:"right",icon:"checkmark",onClick:function(){return u(!1)},positive:!0})})]})},B=s.p+"static/media/buy-blue.c5c4f01c.svg",J=s.p+"static/media/happy.13b43fe0.png",F=function(e){var t=e.image,s=e.category,c=e.nameProduct,n=e.setBuys,i=e.id,o=e.setUsers,u=e.nameUser,l=e.points,O=e.products,p=e.record,x=e.cost,g=r.a.useState(!1),f=Object(a.a)(g,2),v=f[0],C=f[1],U=r.a.useState(!1),N=Object(a.a)(U,2),k=N[0],D=N[1];return Object(b.jsxs)(h.a,{onClose:function(){return C(!1)},onOpen:function(){return C(!0)},open:v,trigger:Object(b.jsx)("img",{className:"card-buy-icon",title:"Comprar",alt:"redem-img",src:B,onClick:function(){m({setBuys:n,id:i,setUsers:o,nameUser:u,points:l,products:O,record:p,fetched:k,setFetched:D,cost:x})}}),children:[Object(b.jsx)(h.a.Header,{children:"You've redeem the product successfully"}),Object(b.jsxs)(h.a.Content,{image:!0,children:[Object(b.jsx)(j.a,{size:"medium",src:J,wrapped:!0}),Object(b.jsx)(h.a.Description,{children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)(y.a,{color:"blue",children:[Object(b.jsx)(j.a,{src:t,wrapped:!0,ui:!1}),Object(b.jsxs)(y.a.Content,{children:[Object(b.jsx)(y.a.Header,{children:c}),Object(b.jsx)(y.a.Meta,{children:Object(b.jsx)("span",{className:"date",children:s})})]})]})})})]}),Object(b.jsx)(h.a.Actions,{children:Object(b.jsx)(d.a,{color:"blue",content:"Amazing",labelPosition:"right",icon:"checkmark",onClick:function(){return C(!1)}})})]})},Y=function(e){var t=e.name,s=e.image,c=(e.createDate,e.cost),r=(e.key,e.category),n=e.points,i=(e.buys,e.setBuys),a=e.users,o=e.setUsers,d=e.id;return Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)(y.a,{color:"blue",children:[Object(b.jsx)(y.a.Content,{children:Object(b.jsx)("span",{children:c>n?Object(b.jsx)(w,{cost:c,points:n}):Object(b.jsx)(F,{image:s,category:r,nameProduct:t,setBuys:i,id:d,setUsers:o,nameUser:a.name,points:a.points,products:a.products,record:a.record,cost:c})})}),Object(b.jsx)(j.a,{src:s,wrapped:!0,ui:!1}),Object(b.jsxs)(y.a.Content,{extra:!0,children:[Object(b.jsx)(y.a.Header,{children:t}),Object(b.jsxs)(y.a.Description,{children:[r,Object(b.jsxs)("h4",{children:[Object(b.jsx)(u.a,{name:"bitcoin"}),"".concat(c)]})]})]})]})})},z=function(e){e.name,e.coin;var t=e.users,s=e.setUsers,c=e.buys,r=e.page,n=(e.setPage,e.setBuys),i=(e.filter,e.setFilter,t.products?1===r?t.products.slice(0,16):t.products.slice(16,32):[]),a=t.products?i.map((function(e){return Object(b.jsx)(Y,{name:e.name,image:e.img.url,createDate:e.createDate,cost:e.cost,category:e.category,points:t.points,buys:c,setBuys:n,users:t,setUsers:s,id:e._id},e._id)})):Object(b.jsx)("h1",{children:"There are'nt products available"});return Object(b.jsx)("div",{className:"cards",children:a})};var A=function(e){var t=e.users,s=e.setUsers,c=(e.buys,e.page),r=e.setPage,n=e.filter,i=e.setFilter;return Object(b.jsxs)("div",{className:"filter-Menu",children:[Object(b.jsx)("div",{className:"filter-tittle",children:Object(b.jsx)(o.a,{as:"h3",children:"Sort By: "})}),Object(b.jsxs)("div",{className:"filter-buttons",children:[Object(b.jsx)(d.a,{circular:!0,onClick:function(){return function(e){var t=e.users,s=e.setUsers,c=(e.filter,e.setFilter),r=t.name,n=t.points,i=t.products,a=t.record;s({name:r,points:n,products:i.sort((function(e,t){return e.category>t.category?1:e.category<t.category?-1:0})),record:a}),c("Category")}({users:t,setUsers:s,filter:n,setFilter:i})},children:Object(b.jsx)(d.a.Content,{visible:!0,children:"Category"})}),Object(b.jsx)(d.a,{circular:!0,onClick:function(){return function(e){var t=e.users,s=e.setUsers,c=(e.filter,e.setFilter),r=t.name,n=t.points,i=t.products,a=t.record;s({name:r,points:n,products:i.sort((function(e,t){return e.cost-t.cost})),record:a}),c("Lowest Price - Highest price")}({users:t,setUsers:s,filter:n,setFilter:i})},children:Object(b.jsx)(d.a.Content,{visible:!0,children:"Lowest Price"})}),Object(b.jsx)(d.a,{circular:!0,onClick:function(){return function(e){var t=e.users,s=e.setUsers,c=(e.filter,e.setFilter),r=t.name,n=t.points,i=t.products,a=t.record;s({name:r,points:n,products:i.sort((function(e,t){return t.cost-e.cost})),record:a}),c("Highest price - Lowest Price")}({users:t,setUsers:s,filter:n,setFilter:i})},children:Object(b.jsx)(d.a.Content,{visible:!0,children:"Highest price"})})]}),Object(b.jsx)("div",{className:"arrow-icon",children:1===c?Object(b.jsx)(d.a,{circular:!0,icon:"arrow alternate circle right outline",onClick:function(){return r(2)}}):Object(b.jsx)(d.a,{circular:!0,icon:"arrow alternate circle left outline",onClick:function(){return r(1)}})})]})},R=function(e){var t=e.name,s=e.coin,r=e.users,n=e.setUsers,i=e.buys,o=e.setBuys,j=e.filter,d=e.setFilter,u=Object(c.useState)(1),l=Object(a.a)(u,2),O=l[0],h=l[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"menu",children:[Object(b.jsx)(A,{users:r,setUsers:n,buys:i,page:O,setPage:h,filter:j,setFilter:d}),Object(b.jsxs)("h1",{children:["Page ",O]}),Object(b.jsx)("div",{className:"semanticMenuText",children:1===O?Object(b.jsx)("p",{children:"1-16 of 32 Products"}):Object(b.jsx)("p",{children:"16-32 of 32 Products"})})]}),Object(b.jsx)(z,{name:t,coin:s,users:r,setUsers:n,page:O,setPage:h,buys:i,setBuys:o,filter:j,setFilter:d})]})},T=function(e){e.coin;var t=e.name,s=e.users,c=e.setUsers,r=e.buys,n=e.setBuys,i=e.filter,a=e.setFilter;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k,{}),Object(b.jsx)(R,{name:t,users:s,setUsers:c,buys:r,setBuys:n,filer:i,setFilter:a})]})},H=function(){var e=Object(c.useState)(0),t=Object(a.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(!1),i=Object(a.a)(n,2),o=i[0],j=i[1],d=Object(c.useState)(!1),u=Object(a.a)(d,2),l=u[0],O=u[1],h=Object(c.useState)(""),m=Object(a.a)(h,2),x=m[0],g=m[1];return Object(c.useEffect)((function(){p({users:s,setUsers:r,fetched:o,setFetched:j,buys:l})}),[l,o,s]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"header",children:Object(b.jsx)(U,{name:s.name,coin:s.points,users:s,setUsers:r,products:s.products,record:s.record,buys:l})}),Object(b.jsx)(T,{name:s.name,coin:s.points,users:s,setUsers:r,buys:l,setBuys:O,filter:x,setFilter:g})]})};var M=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(H,{})})};s(115);i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))},82:function(e,t,s){}},[[116,1,2]]]);
//# sourceMappingURL=main.8745075e.chunk.js.map